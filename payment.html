<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ‚Äî ‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÄ‡∏´‡πá‡∏î‡∏î‡∏á‡∏ô‡πâ‡∏≥‡∏â‡πà‡∏≤</title>

    <style>
        :root {
            --red: #c03535;
            --dark-red: #a22020;
            --muted: #6b6b6b;
            --container: 1000px;
        }

        * {
            box-sizing: border-box
        }

        body {
            font-family: "Noto Sans Thai", Arial, sans-serif;
            margin: 0;
            color: #222;
        }

        header {
            background: var(--red);
            color: #fff;
            padding: 8px 0;
            border-bottom: 4px solid var(--dark-red);
        }

        nav {
            max-width: var(--container);
            margin: 12px auto;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 12px;
            background: rgba(255, 255, 255, .08);
        }

        main {
            max-width: var(--container);
            margin: 18px auto;
            padding: 0 16px;
        }

        .panel {
            background: #fff;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, .06);
        }

        .checkout {
            display: grid;
            grid-template-columns: 1fr 360px;
            gap: 18px;
            margin-top: 16px;
        }

        label {
            font-weight: 700;
            font-size: 14px
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .btn {
            background: var(--red);
            color: #fff;
            padding: 10px;
            border-radius: 10px;
            border: none;
            font-weight: 800;
            cursor: pointer;
            width: 100%;
        }

        .btn-danger {
            background: #9e1c1c;
            color: #fff;
            padding: 8px;
            border-radius: 10px;
            border: none;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 8px;
        }

        .small {
            font-size: 13px;
            color: var(--muted)
        }

        footer {
            background: #c62828;
            color: #fff;
            text-align: center;
            padding: 22px 0;
            margin-top: 40px;
        }

        @media(max-width:880px) {
            .checkout {
                grid-template-columns: 1fr
            }
        }
    </style>
</head>

<body>

    <header>
        <div style="display:flex;justify-content:space-between;align-items:center;padding:0 16px">
            <div style="display:flex;gap:12px;align-items:center">
                <img src="‡∏£‡∏π‡∏õ/‡πÇ‡∏•‡πÇ‡∏Å‡πâ.jpg" style="width:100px;height:100px;border-radius:50%">
                <div>
                    <div style="font-weight:800;font-size:18px">‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÄ‡∏´‡πá‡∏î‡∏î‡∏á‡∏ô‡πâ‡∏≥‡∏â‡πà‡∏≤</div>
                    <div style="font-size:13px">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏™‡∏î ‡∏à‡∏≤‡∏Å‡∏ü‡∏≤‡∏£‡πå‡∏°</div>
                </div>
            </div>
        </div>

        <nav>
            <a href="‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
            <a href="products.html">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
            <a href="‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô.html">‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</a>
            <a href="‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤.html">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
        </nav>
    </header>

    <main>
        <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>

        <div class="panel">
            <ol>
                <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</li>
                <li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</li>
                <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</li>
                <li>‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏•‡∏¥‡∏õ‡∏ó‡∏≤‡∏á Line ‡∏´‡∏•‡∏±‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</li>
            </ol>
        </div>

        <div class="checkout">

            <div>
                <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h3>
                <div id="summary" class="panel small">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                <button class="btn-danger" onclick="clearCart()">üóëÔ∏è ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            </div>

            <aside class="panel">
                <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</h3>

                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</label>
                <input id="name">

                <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
                <textarea id="address" rows="3"></textarea>

                <label>‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                <input id="phone">

                <label>‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
                <select id="paymethod" onchange="updatePayment()">
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
                    <option value="qr">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå (‡∏™‡πÅ‡∏Å‡∏ô)</option>
                    <option value="bank">‡πÇ‡∏≠‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</option>
                </select>

                <div id="paymentInfo" style="margin-top:12px;display:none">

                    <div id="payQR" style="display:none;text-align:center">
                        <strong>‡∏™‡πÅ‡∏Å‡∏ô‡∏à‡πà‡∏≤‡∏¢‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå</strong><br>
                        <img src="‡∏£‡∏π‡∏õ/qr-promptpay.png" style="width:200px;margin-top:8px">
                    </div>

                    <div id="payBank" style="display:none">
                        <strong>‡πÇ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</strong>
                        <div class="small">
                            ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢<br>
                            ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ 123-4-56789-0
                        </div>
                    </div>

                    <label style="margin-top:12px;display:block">‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
                    <input type="file" id="slip" accept="image/*" onchange="previewSlip()">

                    <div id="slipPreview" style="margin-top:10px;display:none;text-align:center">
                        <div class="small">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏•‡∏¥‡∏õ</div>
                        <img id="slipImg" style="max-width:100%;border-radius:10px;border:1px solid #eee">
                    </div>

                </div>

                <button class="btn" style="margin-top:12px" onclick="placeOrder()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
            </aside>

        </div>
    </main>

    <script>
        let cart = JSON.parse(localStorage.getItem('farm_cart') || '[]');

        function renderSummary() {
            const el = document.getElementById('summary');
            if (!cart.length) {
                el.innerHTML = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤';
                return;
            }
            let total = 0;
            el.innerHTML = '';
            cart.forEach(i => {
                el.innerHTML += `${i.name} x ${i.qty} = ${i.qty * i.price} ‡∏ø<br>`;
                total += i.qty * i.price;
            });
            el.innerHTML += `<hr><strong>‡∏£‡∏ß‡∏° ${total} ‡∏ø</strong>`;
        }

        function clearCart() {
            if (!cart.length) return alert('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏•‡∏ö');
            if (!confirm('‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) return;
            localStorage.removeItem('farm_cart');
            cart = [];
            renderSummary();
        }

        function updatePayment() {
            const m = paymethod.value;
            paymentInfo.style.display = m ? 'block' : 'none';
            payQR.style.display = m === 'qr' ? 'block' : 'none';
            payBank.style.display = m === 'bank' ? 'block' : 'none';
        }

        async function placeOrder() {
            if (!cart.length) return alert('‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á');
            if (!name.value || !address.value || !phone.value)
                return alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö');
            if (!paymethod.value)
                return alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô');
            if (!slip.files.length)
                return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ');

            const reader = new FileReader();
            reader.onload = async () => {

                const total = cart.reduce((s, i) => s + i.qty * i.price, 0);

                const data = {
                    name: name.value,
                    address: address.value,
                    phone: phone.value,
                    paymethod: paymethod.value,
                    items: cart.map(i => `${i.name} x${i.qty}`).join(", "),
                    total: total,
                    slip: reader.result
                };

                await fetch("üî¥ ‡πÉ‡∏™‡πà URL Web App ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ üî¥", {
                    method: "POST",
                    body: JSON.stringify(data)
                });

                alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
                localStorage.removeItem('farm_cart');
                cart = [];
                renderSummary();
            };

            reader.readAsDataURL(slip.files[0]);
        }

        function previewSlip() {
            const file = slip.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = e => {
                slipImg.src = e.target.result;
                slipPreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }

        renderSummary();
    </script>

    <footer>
         ¬© 2025 ‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÄ‡∏´‡πá‡∏î‡∏î‡∏á‡∏ô‡πâ‡∏≥‡∏â‡πà‡∏≤ ‚Ä¢ ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
    </footer>

</body>

</html>